---
layout: post
title: Java 정리 23
tags: [Java]
excerpt: "Java 정리 - 메모장 구현, Dialog"
date: 2018-12-13
comments: true
---
 
## Java 정리 23 - 메모장 구현, Dialog

---

### 숙제 복습

* 12일자 숙제 클래스다이어그램 참고해서 재구현
  * [Work class]()

![01](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/01.png?raw=true)

---

### Event Handling에서 is-a, has-a 관계 정리

* **Event Handling에서 is-a 관계**
  * Event처리하는 클래스 **is a** Design 클래스
* **Event Handling에서 has-a 관계**
  * Event처리하는 클래스 **has a** Design 클래스

---

### 메모장 구현

* **클래스다이어그램과 mockup 이미지**
 
![02](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/02.png?raw=true)

![03](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/03.png?raw=true)

* awt를 이용한 design

![04](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/04.png?raw=true)

* 기본적인 새글, 열기, 저장, 다른 이름으로 저장, 닫기 이벤트처리 구현
  * [JavaMemo class]()
  * [JavaMemoEvt class]()

---

### Dialog

* **정보를 제공하는 작은 Window**
  * **Window Component** : 사용자에게 보여주는 일
  * 기본 Layout : BorderLayout
* **부모 윈도우(owner)가 존재하는 Component**

* **Dialog has-a 관계**
  * **부모 has a 다이얼로그**
  * 부모가 Dialog 클래스를 갖는 구조
    * 부모창에서 Dialog 클래스를 바로 객체화 해서 다이얼로그 사용
* **Dialog is-a 관계**
  * **다이얼로그 자식 클래스 is a 다이얼로그**
    * 자식은 부모다.
    * **Dialog를 따로 상속받은 자식클래스로 다이얼로그 구현**
  * 다이얼로그자식클래스가 생성될 때 부모창의 주소를 넘겨받아 has-a 관계를 형성
    * 넘겨받은 부모창의 주소를 이용 Dialog자식클래스 생성자안에 부모클래스(Dialog)의 인자있는 생성자 호출하여 Dialog를 생성


```java
///////////////// has a /////////////////////////////////
// 1. 생성
// 반드시 부모 생성자(owner)가 존재
Dialog d = new Dialog(프레임, "타이틀", modal여부); 

// modal여부 true는 modal, false는 modaless
// 자식창이 동작시 부모창이 선택되지 않으면 modal, 부모창이 선택되면 modeless

// 2. 컴포넌트 배치
Button b = new Button("버튼");

d.add(b);
d.add(BorderLayout.CENTER, b);

// 3. 크기를 설정
d.setSize(width, height); 
d.setBounds(x, y, w, h);

// 4. 가시화
d.setVisible(true);

///////////////////// is a ////////////////////////////
// 1. Dialog 상속
public class Test extends Dialog { ... }

// 2. 생성자 정의하고 부모클래스의 생성자를 호출
public Test(Frame f) {
    super(f, "타이틀", modal여부);
    
    // Component 생성
    // Component Dialog 배치
    // Dialog에 크기설정
    // Dialog 가시화
}
```

* Dialog has-a 관계 예제
  * []()
* Dialog is-a 관계 예제
  * []()
  * []()

---

### 메모장 서식 다이얼로그 추가

* List를 클릭하면 item의 값이 해당 List의 TextField에 설정
  * 보기가 변경되어야 된다.
* 확인 버튼이 클릭되면 설정한 Font의 정보가 부모창 TextArea에 반영이 되어야한다.
* 취소 버튼이 클릭되면 창이 닫혀야 한다.
* 

![05](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/05.png?raw=true)

* [MemoFormat]()
```java
////////////////// MemoFormat class //////////////////////////////////
// TextArea의 Font를 가져와서 글꼴 TextField 초기값으로 설정하는 코드 ///
    String[] arrStyle = { "일반", "굵게", "기울임꼴", "굵은  기울임꼴" };
    for (String style : arrStyle) {
        listStyle.add(style);
    }
    // 부모창 JavaMemo T.A의 글꼴 정보를 가져와서 T.F에  설정한다.
    Font fontTa = jm.getTaNote().getFont();
    tfFont = new TextField(fontTa.getFamily());
    tfStyle = new TextField(arrStyle[fontTa.getStyle()]);
    tfSize = new  TextField(Integer.toString(fontTa.getSize()));
```

* [MemoFormatEvt]()
```java
////////////////// MemoFormatEvt class /////////////////////
///////// 리스트 아이템 클릭했을 때 서식 변경하는 코드 ////////
    @Override
    public void itemStateChanged(ItemEvent ie) {
          
      // 선택되는 아이템의 값을 먼저 저장하고
      // 클릭되는 리스트와 관련있는 TextField에  할당해준다.
      String selectedValue =  ((List)ie.getSource()).getSelectedItem();
      Font lblPreviewFont = mf.getLblPreview().getFont(); // 기준
      String name = lblPreviewFont.getFamily();
      int style = lblPreviewFont.getStyle();
      int size = lblPreviewFont.getSize();
      
      // 선택한 아이템을 TextField의 값으로 설정
      // 미리보기 라벨을 변경시킴
      if (ie.getSource() == mf.getListFont()) {
        mf.getTfFont().setText(selectedValue);
        name = selectedValue;
      }
      if (ie.getSource() == mf.getListStyle()) {
        mf.getTfStyle().setText(selectedValue);
        style =  ((List)ie.getSource()).getSelectedIndex();
      }
      if (ie.getSource() == mf.getListSize()) {
        mf.getTfSize().setText(selectedValue);
        size = Integer.parseInt(selectedValue);
      }
      
      mf.getLblPreview().setFont(new Font(name, style,  size));
    }
...
    /**
    * MemoFormat 클래스의 미리보기 Label의 Font정보를
    * JavaMemo 클래스의 TextArea에 설정
    */
    public void setTaNoteFont() {
      mf.getJm().getTaNote().setFont(mf.getLblPreview().getFont());
      mf.dispose();
    }
```

![06](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/java/23/06.png?raw=true)

