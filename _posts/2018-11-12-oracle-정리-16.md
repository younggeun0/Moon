---
layout: post
title: 오라클 DBMS 정리 16
tags: [오라클DBMS]
excerpt: "ORACLE DBMS 정리 - 설계 문서작성, ERD"
date: 2018-11-12
comments: true
---

## 오라클 DBMS 정리 16 - 설계 문서작성, ERD 

---


#### 이전까지 학습 정리
* **SQL**
  * **쿼리문 실행**
  * DDL : CREATE, DROP, ALTER, TRUNCATE
    * TABLE, USER, INDEX, SYNONYM, SEQUENCE, VIEW 
  * DCL : COMMIT, ROLLBACK, GRANT, REVOKE
    * Transaction, 권한부여
  * DML : INSERT, UPDATE, DELETE, SELECT
* **PL/SQL**
  * **쿼리문 실행 + 제어**
    * 절차적 언어
  * 기본문법, CURSOR(암시적/명시적), FUNCTION, PROCEDURE, PACKAGE, TRIGGER
    * FUNCTION - 연산
    * PROCEDURE, TRIGGER - 제어 후 쿼리수행
* **관계형 데이터베이스의 핵심은 테이블 (RDBMS)**

---

#### 테이블 설계서(정의서)

* **RDBMS - Relational DBMS**
  * 테이블에 데이터를 저장, 제약사항으로 관계 설정
* **액셀을 사용, 테이블에 대한 문서를 작성**
  * 테이블명(Entity, Relation)
  * 컬럼명(Relation Schema, Attribute) - 영문, 한글
  * 크기
  * NULL 허용여부
  * 제약사항
  * 비고

* dept, emp 테이블 설계서 작성 예시
  * 부서정보
    * 부서번호, 부서명, 위치
  * 사원정보
    * 사원번호, 사원명, ..
  * 한 엑셀파일에 테이블당 워크시트를 추가
  * 영문 컬럼명 - 물리명
  * 한글 컬럼명 - 논리명
  * DATE 데이터형은 크기를 안주고 비워둠


![16-01](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-01.png?raw=true)


![16-02](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-02.png?raw=true)


![16-03](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-03.png?raw=true)


---

#### ERD(Entity Relationship Diagram)

* **테이블간의 관계를 도식화하여 가독성과 직관성을 향상시킴**
* 테이블간 관계 : 식별 관계, 비식별 관계
  * **식별 관계**
    * **부모테이블의 PK를 자식테이블에서 PK로 참조하는 관계**
    * 실선
  * **비식별 관계**
    * **부모테이블의 PK를 자식테이블에서 일반컬럼으로 참조하는 관계**
    * 점선 
* **1:1 관계**
  * 부모의 값을 자식에서 무조건 하나만 사용하는 경우
* **1:N 관계**
  * 부모의 값이 자식에서 여러개 사용하는 경우
* **N:M 관계**
  * ERD로 표현이되나 실제 테이블에선 사용할 수 없고 테이블을 하나 더 추가하여 구현
  * 부모의 값 여러개를 자식에서 여러개로 사용하는 경우

![16-04](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-04.png?raw=true)

* **테이블 도형 (논리모델, 사람 기준)**

![16-05](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-05.PNG?raw=true)

* **테이블 도형 (물리모델, DBMS 기준)**

![16-06](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-06.PNG?raw=true)

* **비식별 1:N 관계**

![16-07](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-07.JPG?raw=true)

* **식별 1:1 관계**

![16-08](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-08.png?raw=true)

* **비식별 1:N 관계, 식별 1:N 관계**

![16-09](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-09.png?raw=true)


---

#### eXERD

![16-10](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-10.PNG?raw=true)

* ERD 작성용 툴(개인사용은 무료지만 19년부턴 막히는듯..)
  * 논리모드, 물리모드 전환가능
  * **포워드 엔지니어링과 리버스 엔지니어링 지원**
    * 포워드 엔지니어링 - 만든 ERD를 DB로 변환하는 것
    * 리버스 엔지니어링 - 만들어진 DB를 ERD로 변환하는 것

---

#### 숙제풀이

* 아래 정보를 가지고 테이블설계서, ERD 작성 후 포워드 엔지니어링까지 생성해보기
  * 회원정보
    * 아이디(PK), 비밀번호(NN), 회원명(NN), 관심언어, 전화번호(UNIQUE), 주소(NN), 입력일(DEFAULT)
  * 게시판
    * 글번호(PK), 제목(NN), 내용(NN), 작성자id(FK), 작성일(DEFUALT), 조회수(DEFAULT 0)
  * 좌석
    * 좌석고유번호(PK), 좌석번호(NN), 커플석(CHECK N,Y 두개의 값만 입력가능, DEFAULT N)
  * 예매
    * 예매고유번호(PK), 예매번호, 좌석고유번호(FK), 회원아이디(FK), 예매일자(DEFAUvLT)
 * 테이블 설계서 user_info

![16-11](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-11.png?raw=true)

* 테이블 설계서 board

![16-12](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-12.png?raw=true)

* 테이블 설계서 seat

![16-13](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-13.png?raw=true)

* 테이블 설계서 reservation

![16-14](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-14.png?raw=true)

* ERD 논리모델

![16-15](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-15.png?raw=true)

* ERD 물리모델

![16-16](https://github.com/younggeun0/younggeun0.github.io/blob/master/_posts/img/oracle/16-16.png?raw=true)

* [포워드 엔지니어링 후 insert로 제약사항 테스트]()

